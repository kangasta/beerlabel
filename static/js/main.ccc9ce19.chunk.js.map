{"version":3,"sources":["ColorUtils.js","Droparea.js","Label.js","App.js","index.js"],"names":["num2rgbval","n","Math","round","min","max","polynomial","coeffs","x","r","length","i","pow","num2hex","toString","ebc2color","ebc","g","b","rgb","ebc2rgb","Droparea","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleDrop","bind","assertThisInitialized","handleDragover","event","stopPropagation","preventDefault","dataTransfer","dropEffect","_this2","files","reader","FileReader","onload","data","target","result","callback","type","readAsDataURL","readAsText","react_default","a","createElement","className","onDragOver","onDrop","children","Component","defaultProps","Label","state","mainImageSrc","breweryLogoSrc","arguments","undefined","beerData","hasOwnProperty","_text","property_str","property_arr","split","reduce","prev","curr","e","name","value","unit","ing","toArray","FERMENTABLES","FERMENTABLE","forEach","fermentable","malt","getMaltType","NAME","includes","push","join","full_height","height","size","h","description","getProperty","style","getFullHeightStyle","map","p","key","getIngredients","src_Droparea","setState","alt","src","AMOUNT","HOPS","HOP","hop","TIME","USE","toLowerCase","match","YEASTS","YEAST","yeast","_this3","sum_MCUs","ebc_backgroud","abv","Number","getGravity","ibu","filter","alpha","amount","time","batch_size","gravity","added_alpha","exp","IBU","ALPHA","BATCH_SIZE","grain_color","COLOR","weigth","volume","backgroundColor","color","assign","getMetricsComponent","container","getDetails","getRecipe","Array","isArray","malt_name","App","w","override","handleInputFile","handleControlChange","data_json_str","xml2json","compact","JSON","parse","RECIPES","RECIPE","property","dimension","old","width","src_Label_0","htmlFor","id","onChange","rows","onClick","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.ccc9ce19.chunk.js","sourcesContent":["function num2rgbval(n) {\n\tn = Math.round(n);\n\tn = Math.min(255, n);\n\tn = Math.max(0, n);\n\treturn n;\n}\n\nfunction polynomial(coeffs, x) {\n\tvar r = 0;\n\tvar max = coeffs.length - 1;\n\tfor (var i = max; i >= 0; i--) {\n\t\tr += coeffs[max - i]*Math.pow(x, i);\n\t}\n\treturn r;\n}\n\nfunction ebc2rgb(ebc) {\n\tif (ebc > 56) return {'r': 0, 'g': 0, 'b': 0};\n\n\tconst r = [-0.03666201, -2.467356497, 256.5915566];\n\tconst g = [0.058661176, -8.013965521, 273.5627425];\n\tconst b = [0.000249081, -0.032194991, 1.390501896, -23.81644649, 184.73482850];\n\n\treturn {\n\t\t'r': num2rgbval(polynomial(r, ebc)),\n\t\t'g': num2rgbval(polynomial(g, ebc)),\n\t\t'b': num2rgbval(polynomial(b, ebc))\n\t};\n}\n\nfunction num2hex(n) {\n\treturn n > 0xF ? n.toString(16) : '0' + n.toString(16);\n}\n\nfunction rgb2str(r,g,b) {\n\treturn '#' + num2hex(r) + num2hex(g) + num2hex(b);\n}\n\nfunction ebc2color(ebc) {\n\tconst rgb = ebc2rgb(ebc);\n\treturn rgb2str(rgb.r, rgb.g, rgb.b);\n}\n\nexport {\n\tebc2color\n};","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nclass Droparea extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.handleDrop = this.handleDrop.bind(this);\n\t\tthis.handleDragover = this.handleDragover.bind(this);\n\t}\n\n\thandleDragover(event) {\n\t\tevent.stopPropagation();\n\t\tevent.preventDefault();\n\t\tevent.dataTransfer.dropEffect = 'copy';\n\t}\n\n\thandleDrop(event) {\n\t\tevent.stopPropagation();\n\t\tevent.preventDefault();\n\n\t\tconst files = event.dataTransfer.files;\n\t\tconst reader = new FileReader();\n\t\treader.onload = (event) => {\n\t\t\tconst data = event.target.result;\n\t\t\tthis.props.callback(data);\n\t\t};\n\t\tswitch(this.props.type) {\n\t\tcase 'DataURL':\n\t\t\treader.readAsDataURL(files[0]);\n\t\t\tbreak;\n\t\tcase 'Text':\n\t\t\treader.readAsText(files[0]);\n\t\t\tbreak;\n\t\tdefault:\n\t\t\treturn;\n\t\t}\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclassName={this.props.className + ' Droparea'}\n\t\t\t\tonDragOver={this.handleDragover}\n\t\t\t\tonDrop={this.handleDrop}\n\t\t\t>\n\t\t\t\t{this.props.children}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nDroparea.defaultProps = {\n\tcallback: () => undefined,\n\tclassName: '',\n\ttype: 'Text',\n};\n\nDroparea.propTypes = {\n\tcallback: PropTypes.func,\n\tchildren: PropTypes.node,\n\tclassName: PropTypes.string,\n\ttype: PropTypes.string,\n};\n\nexport default Droparea;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { ebc2color } from './ColorUtils';\nimport Droparea from './Droparea';\n\nimport './Label.css';\n\nclass Label extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tmainImageSrc: '',\n\t\t\tbreweryLogoSrc: ''\n\t\t};\n\t}\n\n\tstatic toArray(a) {\n\t\treturn (Array.isArray(a) ? a : [a]);\n\t}\n\n\tgetGravity(type='OG') {\n\t\tif (this.props.beerData.hasOwnProperty(type)) {\n\t\t\treturn this.props.beerData[type]._text;\n\t\t} else if (this.props.beerData.hasOwnProperty('EST_' + type)) {\n\t\t\treturn this.props.beerData['EST_' + type]._text;\n\t\t} else {\n\t\t\treturn undefined;\n\t\t}\n\t}\n\n\tgetProperty(property_str) {\n\t\tconst property_arr = property_str.split('.');\n\t\ttry {\n\t\t\treturn property_arr.reduce((prev, curr) => prev[curr], this.props.beerData);\n\t\t} catch(e) {\n\t\t\treturn undefined;\n\t\t}\n\t}\n\n\tgetMetricsComponent(name, value, unit='') {\n\t\treturn (\n\t\t\t<div className='Metric'>\n\t\t\t\t<div className={'Value ' + (!name ? 'Big' : '')}>{value}<span className='Unit'>{unit}</span></div>\n\t\t\t\t<div className='Name'>{name}</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n\tstatic getMaltType(malt_name) {\n\t\tif (malt_name.toLowerCase().match(/wheat/)) {\n\t\t\treturn 'Wheat malt';\n\t\t} else if (malt_name.toLowerCase().match(/rye/)) {\n\t\t\treturn 'Rye malt';\n\t\t} else if (malt_name.toLowerCase().match(/oat/)) {\n\t\t\treturn 'Oat malt';\n\t\t} else if (malt_name.toLowerCase().match(/rice/)) {\n\t\t\treturn 'Rice malt';\n\t\t} else if (malt_name.toLowerCase().match(/corn/)) {\n\t\t\treturn 'Corn malt';\n\t\t} else {\n\t\t\treturn 'Barley malt';\n\t\t}\n\t}\n\n\tgetIngredients() {\n\t\tvar ing = ['Water'];\n\t\tLabel.toArray(this.props.beerData.FERMENTABLES.FERMENTABLE)\n\t\t\t.forEach(fermentable => {\n\t\t\t\t/*\n\t\t\t\tif (!fermentable.NAME._text.toLowerCase().match(/malt/)) {\n\t\t\t\t\ting.push(fermentable.NAME._text);\n\t\t\t\t} else {\n\t\t\t\t*/\n\t\t\t\tconst malt = Label.getMaltType(fermentable.NAME._text);\n\t\t\t\tif (!ing.includes(malt)) ing.push(malt);\n\t\t\t\t//}\n\t\t\t});\n\t\ting.push('Hops', 'Yeast');\n\t\treturn ing.join(', ');\n\t}\n\n\tgetFullHeightStyle() {\n\t\tvar full_height;\n\t\ttry {\n\t\t\tfull_height = {\n\t\t\t\theight: (this.props.size.h).toString() + 'mm'\n\t\t\t};\n\t\t} catch(e) {\n\t\t\tfull_height = {};\n\t\t}\n\t\treturn full_height;\n\t}\n\n\tgetDetails() {\n\t\tconst description = this.props.description || this.getProperty('DESCRIPTION._text') || null;\n\t\treturn (\n\t\t\t<div className='Details MiddleOf' style={this.getFullHeightStyle()}>\n\t\t\t\t<div className={'Middle' + (!description ? ' NoDescription' : '')}>\n\t\t\t\t\t{!description ? null : description.split('\\n\\n').map(p => (<p key={p} className='Description'>{p}</p>))}\n\t\t\t\t\t<p className='Ingredients'><span className='Title'>Ingredients:</span> {this.getIngredients()}</p>\n\t\t\t\t\t<div className='Logo'>\n\t\t\t\t\t\t<Droparea className={'Image' + ( this.state.breweryLogoSrc ? '' : ' Placeholder')} type='DataURL' callback={(result) => {this.setState({breweryLogoSrc: result});}}>\n\t\t\t\t\t\t\t<img alt='Logo placeholder' src={this.state.breweryLogoSrc}/>\n\t\t\t\t\t\t</Droparea>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n\tgetRecipe() {\n\t\treturn (\n\t\t\t<div className='Recipe'>\n\t\t\t\t<h1>Ingredients</h1>\n\t\t\t\t<h2>Fermentables</h2>\n\t\t\t\t<ul>\n\t\t\t\t\t{Label.toArray(this.props.beerData.FERMENTABLES.FERMENTABLE).map(fermentable => (\n\t\t\t\t\t\t<li key={fermentable.NAME._text}>{fermentable.NAME._text}: {Math.round(fermentable.AMOUNT._text*10)/10 + ' kg'}</li>\n\t\t\t\t\t))}\n\t\t\t\t</ul>\n\t\t\t\t<h2>Hops</h2>\n\t\t\t\t<ul>\n\t\t\t\t\t{Label.toArray(this.props.beerData.HOPS.HOP).map(hop => (\n\t\t\t\t\t\t<li key={hop.NAME._text + hop.TIME._text}>{hop.NAME._text}: {hop.AMOUNT._text * 1e3} g, { hop.USE._text.toLowerCase().match(/dry.*hop/) ? 'Dry-hop' : Math.round(hop.TIME._text).toString() + ' min'}</li>\n\t\t\t\t\t))}\n\t\t\t\t</ul>\n\t\t\t\t<h2>Yeasts</h2>\n\t\t\t\t<ul>\n\t\t\t\t\t{Label.toArray(this.props.beerData.YEASTS.YEAST).map(yeast => (\n\t\t\t\t\t\t<li key={yeast.NAME._text}>{yeast.NAME._text}: {yeast.AMOUNT._text * 1e3} g</li>\n\t\t\t\t\t))}\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t);\n\t}\n\n\trender() {\n\t\tif (!this.props.beerData) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst abv = Math.round((Number(this.getGravity('OG'))-Number(this.getGravity('FG'))) * 131.25 * 10)/10;\n\t\tconst IBU = (alpha, amount, time, batch_size, gravity) => {\n\t\t\t// http://www.realbeer.com/hops/research.html\n\t\t\tconst added_alpha = Number(alpha) * Number(amount) * 1000 / Number(batch_size);\n\n\t\t\tconst bigness = 1.65 * Math.pow(125e-6, (Number(gravity) - 1));\n\t\t\tconst boil_time = (1 - Math.exp(-0.04 * Number(time))) / 4.15;\n\n\t\t\treturn bigness * boil_time * added_alpha;\n\t\t};\n\n\t\tconst ibu = Label.toArray(this.props.beerData.HOPS.HOP)\n\t\t\t.filter(a => !a.USE._text.toLowerCase().match(/dry.*hop/))\n\t\t\t.map(a => IBU(a.ALPHA._text/100, a.AMOUNT._text*1000, a.TIME._text, this.props.beerData.BATCH_SIZE._text, this.getGravity('OG')))\n\t\t\t.reduce((a,b) => Math.round(a + b));\n\n\t\t//http://brewwiki.com/index.php/Estimating_Color\n\t\tconst MCU = (grain_color, weigth, volume) => (grain_color * weigth * 2.2046 / (volume / 3.7854));\n\t\tconst EBC = (sum_MCUs) => 1.97/* SRM to EBC */ * 1.4922 * Math.pow(sum_MCUs, 0.6859);\n\n\t\tconst ebc = Math.round(\n\t\t\tEBC(Label.toArray(this.props.beerData.FERMENTABLES.FERMENTABLE)\n\t\t\t\t.map(a => MCU(a.COLOR._text, a.AMOUNT._text, this.props.beerData.BATCH_SIZE._text))\n\t\t\t\t.reduce((a,b) => Math.round(a+b))));\n\n\t\tvar ebc_backgroud;\n\t\ttry {\n\t\t\tebc_backgroud = {\n\t\t\t\tbackgroundColor: ebc2color(ebc),\n\t\t\t\tcolor: ebc > 25 ? '#ddd' : '#333'\n\t\t\t};\n\t\t} catch(e) {\n\t\t\tebc_backgroud = {};\n\t\t}\n\n\t\treturn (\n\t\t\t<div className='Label'>\n\t\t\t\t<div className='Metrics MiddleOf' style={Object.assign({}, this.getFullHeightStyle(), ebc_backgroud)}>\n\t\t\t\t\t<div className='Middle'>\n\t\t\t\t\t\t{this.getMetricsComponent('ABV', abv, '%')}\n\t\t\t\t\t\t{this.getMetricsComponent('IBU', ibu)}\n\t\t\t\t\t\t{this.getMetricsComponent('EBC', ebc)}\n\t\t\t\t\t\t{this.getMetricsComponent(null, this.props.container.size, this.props.container.unit)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className='SideNote' style={this.getFullHeightStyle()}>\n\t\t\t\t\tLabel automatically generated\n\t\t\t\t</div>\n\t\t\t\t{this.getDetails()}\n\t\t\t\t{this.getRecipe()}\n\t\t\t\t<div className='Front'>\n\t\t\t\t\t<Droparea className={'Image' + ( this.state.mainImageSrc ? '' : ' Placeholder')} type='DataURL' callback={(result) => {this.setState({mainImageSrc: result});}}>\n\t\t\t\t\t\t<img alt='Logo placeholder' src={this.state.mainImageSrc}/>\n\t\t\t\t\t</Droparea>\n\t\t\t\t\t<div className='Title'>\n\t\t\t\t\t\t<div className='Name'>{this.getProperty('NAME._text')}</div>\n\t\t\t\t\t\t<div className='Style'>{this.getProperty('STYLE.NAME._text')}</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nLabel.defaultProps = {\n\tcontainer: {\n\t\tsize: 33,\n\t\tunit: 'cl'\n\t}\n};\n\nLabel.propTypes = {\n\tbeerData: PropTypes.object,\n\tdescription: PropTypes.string,\n\tcontainer: PropTypes.shape({\n\t\tsize: PropTypes.number,\n\t\tunit: PropTypes.string\n\t}),\n\tsize: PropTypes.shape({\n\t\th: PropTypes.number,\n\t\tw: PropTypes.number\n\t})\n};\n\nexport default Label;\n","import React, { Component } from 'react';\nimport { xml2json } from 'xml-js';\n\nimport Label from './Label';\n\nimport './App.css';\nimport Droparea from './Droparea';\n\nclass App extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tdata: undefined,\n\t\t\tsize: {\n\t\t\t\th: 90,\n\t\t\t\tw: 180\n\t\t\t},\n\t\t\tcontainer: {\n\t\t\t\tsize: 33,\n\t\t\t\tunit: 'cl'\n\t\t\t},\n\t\t\toverride: {\n\t\t\t\tdescription: ''\n\t\t\t}\n\t\t};\n\n\t\tthis.handleInputFile = this.handleInputFile.bind(this);\n\t\tthis.handleControlChange = this.handleControlChange.bind(this);\n\t}\n\n\thandleInputFile(data) {\n\t\tconst data_json_str = xml2json(data, {compact: true});\n\t\tthis.setState({\n\t\t\tdata: JSON.parse(data_json_str).RECIPES.RECIPE\n\t\t});\n\t}\n\n\thandleControlChange(event) {\n\t\tconst dimension = event.target.name;\n\t\tconst value = event.target.value;\n\n\t\tvar property;\n\t\tswitch(dimension) {\n\t\tcase 'h':\n\t\tcase 'w':\n\t\t\tproperty = 'size';\n\t\t\tbreak;\n\t\tcase 'description':\n\t\t\tproperty = 'override';\n\t\t\tbreak;\n\t\tcase 'size':\n\t\tcase 'unit':\n\t\t\tproperty = 'container';\n\t\t\tbreak;\n\t\tdefault:\n\t\t\treturn;\n\t\t}\n\n\t\tthis.setState(old => {\n\t\t\told[property][dimension] = value;\n\t\t\treturn old;\n\t\t});\n\t}\n\n\trender() {\n\t\t// https://www.html5rocks.com/en/tutorials/file/dndfiles/\n\t\treturn (\n\t\t\t<div className='App'>\n\t\t\t\t<div className='Main AppComponent' style={{\n\t\t\t\t\theight: this.state.size.h.toString() + 'mm',\n\t\t\t\t\twidth: this.state.size.w.toString() + 'mm'\n\t\t\t\t}}>\n\t\t\t\t\t<Droparea type='Text' callback={this.handleInputFile}>\n\t\t\t\t\t\t{!this.state.data ? <div className='Label Placeholder'>Drop beerxml here</div> : <Label\n\t\t\t\t\t\t\tbeerData={this.state.data}\n\t\t\t\t\t\t\tdescription={this.state.override.description}\n\t\t\t\t\t\t\tcontainer={this.state.container}\n\t\t\t\t\t\t\tsize={this.state.size}\n\t\t\t\t\t\t/>}\n\t\t\t\t\t</Droparea>\n\t\t\t\t</div>\n\t\t\t\t<div className='Controls'>\n\t\t\t\t\t<div className='AppLogo'>\n\t\t\t\t\t\t<img src='favicon512.png' alt='Beerlabel'/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<h2>Dimension</h2>\n\t\t\t\t\t<div className='Field'>\n\t\t\t\t\t\t<label htmlFor='control-h'>Height:</label>\n\t\t\t\t\t\t<input type='number' id='control-h' name='h' min='0' max='600' value={this.state.size.h} onChange={this.handleControlChange}/>\n\t\t\t\t\t\t<span className='Unit'>mm</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='Field'>\n\t\t\t\t\t\t<label htmlFor='control-w'>Width:</label>\n\t\t\t\t\t\t<input type='number' id='control-w' name='w' min='0' max='600' value={this.state.size.w} onChange={this.handleControlChange}/>\n\t\t\t\t\t\t<span className='Unit'>mm</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<h2>Details</h2>\n\t\t\t\t\t<div className='Field'>\n\t\t\t\t\t\t<label htmlFor='control-size'>Container:</label>\n\t\t\t\t\t\t<input type='number' id='control-size' name='size' min='0' max='600' value={this.state.container.size} onChange={this.handleControlChange}/>\n\t\t\t\t\t\t<input type='text' name='unit' value={this.state.container.unit} onChange={this.handleControlChange}/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='Field'>\n\t\t\t\t\t\t<label htmlFor='control-description'>Description:</label><br/>\n\t\t\t\t\t\t<textarea id='control-description' rows='10' name='description' value={this.state.container.description} onChange={this.handleControlChange}/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='Button'>\n\t\t\t\t\t\t<input type='button' name='reset' value='Reset' onClick={() => {this.setState({data: null});}}/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className='Background'/>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}